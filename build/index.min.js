!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.simplecrop=e():t.SimpleCrop=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var i,r,o;r=[n(1),n(2),n(3)],void 0===(o="function"==typeof(i=function(t,e,n){var i=function(){var t,e=document.createElement("div"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",MsTransition:"msTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}(),r=t.prefix("transform"),o=t.prefix("transition");function s(t){this.id="crop-"+(new Date).getTime(),this.visible=null==t.visible||t.visible,this.title=null!=t.title?t.title:"",this.debug=null!=t.debug&&t.debug,this.$container=null!=t.$container?t.$container:document.body;var e=this;e.passiveSupported=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e.passiveSupported=!0}});window.addEventListener("test",null,n)}catch(t){}this.isSupportTouch="ontouchend"in document,this._multiPoint=!1,this._rotateScale=1,this._baseMoveX=0,this._curMoveX=0,this._changedX=0,this._downPoints=[],this._isControl=!1,this._baseAngle=0,this.scaleTimes=1,this.rotateAngle=0,this.construct(),this.initFuncBtns(t),this.initRotateSlider(t),this.initChilds(),this.initBoxBorder(t,!0),this.updateBox(t),this.bindEvent()}return Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r,o,s=0|e,a=Math.max(s>=0?s:i-Math.abs(s),0);a<i;){if((r=n[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),s.prototype.initTitle=function(t){this.title=null!=t.title?t.title:"",this.$title=document.querySelector("#"+this.id+" .crop-title"),this.$title.innerText=this.title,t.title?this.$title.style.visibility="hidden":this.$title.style.visibility=""},s.prototype.initBoxBorder=function(t,e){this.borderWidth=null!=t.borderWidth?t.borderWidth:1,this.borderColor=null!=t.borderColor?t.borderColor:"#fff",this.boldCornerLen=null!=t.boldCornerLen?t.boldCornerLen:24,this.coverColor=null!=t.coverColor?t.coverColor:"rgba(0,0,0,.3)",this.coverDraw=null!=t.coverDraw?t.coverDraw:function(){},this.borderDraw=null!=t.borderDraw?t.borderDraw:this.defaultBorderDraw,e||(this.borderDraw(this.$cropCover),this.coverDraw(this.$cropCover))},s.prototype.initFuncBtns=function(t){this.funcBtns=null!=t.funcBtns?t.funcBtns:["close","crop","around","reset"],this.cropCallback=null!=t.cropCallback?t.cropCallback:function(){},this.closeCallback=null!=t.closeCallback?t.closeCallback:function(){},this.uploadCallback=null!=t.uploadCallback?t.uploadCallback:function(){},this.$cropBtns=document.querySelector("#"+this.id+" .crop-btns");var e="";this.funcBtns.includes("upload")&&(e+='<div class="upload-btn-container">',e+='<button class="upload-btn"></button>',e+='<input type="file" accept="image/png,image/jpeg">',e+="</div>"),this.funcBtns.includes("close")&&(e+='<button class="crop-close"></button>'),this.funcBtns.includes("around")&&(e+='<button class="crop-around"></button>'),this.funcBtns.includes("reset")&&(e+='<button class="crop-reset"></button>'),this.funcBtns.includes("crop")&&(e+='<button class="crop-btn"></button>'),this.$cropBtns.innerHTML=e,this.funcBtns.includes("upload")&&(this.$uploadBtn?this.$uploadBtn.removeEventListener("change",this.__uploadInput):this.__uploadInput=this.uploadInput.bind(this),this.$uploadBtn=document.querySelector("#"+this.id+" .upload-btn-container"),this.$uploadInput=document.querySelector("#"+this.id+" .upload-btn-container input"),this.$uploadBtn.addEventListener("change",this.__uploadInput)),this.funcBtns.includes("crop")&&(this.$cropBtn?this.$cropBtn.removeEventListener("click",this.__crop):this.__crop=this.crop.bind(this),this.$cropBtn=document.querySelector("#"+this.id+" .crop-btn"),this.$cropBtn.addEventListener("click",this.__crop)),this.funcBtns.includes("around")&&(this.$aroundBtn?this.$aroundBtn.removeEventListener("click",this.__around):this.__around=this.around.bind(this),this.$aroundBtn=document.querySelector("#"+this.id+" .crop-around"),this.$aroundBtn.addEventListener("click",this.__around)),this.funcBtns.includes("reset")&&(this.$resetBtn?this.$resetBtn.removeEventListener("click",this.reset):this.__reset=this.reset.bind(this),this.$resetBtn=document.querySelector("#"+this.id+" .crop-reset"),this.$resetBtn.addEventListener("click",this.__reset)),this.funcBtns.includes("close")&&(this.$closeBtn?this.$closeBtn.removeEventListener("click",this.close):this.__close=this.close.bind(this),this.$closeBtn=document.querySelector("#"+this.id+" .crop-close"),this.$closeBtn.addEventListener("click",this.__close)),this.funcBtns.length>0?this.$cropBtns.style.visibility="":this.$cropBtns.style.visibility="hidden"},s.prototype.initRotateSlider=function(t){this.rotateSlider=null==t.rotateSlider||t.rotateSlider,this.startAngle=null!=t.startAngle?t.startAngle:-90,this.endAngle=null!=t.endAngle?t.endAngle:90,this.gapAngle=null!=t.gapAngle?t.gapAngle:10,this.lineationItemWidth=null!=t.lineationItemWidth?t.lineationItemWidth:40.5,this.lineationItemWidth=this.lineationItemWidth>=40.5?this.lineationItemWidth:40.5,this.startAngle=this.startAngle<0?parseInt(this.startAngle):0,this.endAngle=this.endAngle>0?parseInt(this.endAngle):0,this.gapAngle=this.gapAngle>0?parseInt(this.gapAngle):3,(this.endAngle-this.startAngle)%this.gapAngle!=0&&(this.endAngle=Math.ceil((this.endAngle-this.startAngle)/this.gapAngle)*this.gapAngle+this.startAngle),this.lineationWidth=this.lineationItemWidth*((this.endAngle-this.startAngle)/this.gapAngle+1),this.$cropRotate=document.querySelector("#"+this.id+" .crop-rotate"),this.$lineation=document.querySelector("#"+this.id+" .lineation"),this.$rotateCurrent=document.querySelector("#"+this.id+" .current");var e=window.getComputedStyle(this.$cropRotate);this.rotateWidth=parseFloat(e.getPropertyValue("width")),this._baseMoveX=-(this.lineationWidth*(0-this.startAngle+this.gapAngle/2)/(this.endAngle-this.startAngle+this.gapAngle)-this.rotateWidth/2);var n=this.rotateAngle-this._baseAngle;this._curMoveX=n*this.lineationWidth/(this.endAngle-this.startAngle+this.gapAngle)+this._baseMoveX,(this._curMoveX>0||this._curMoveX<this.rotateWidth-this.lineationWidth)&&(this.startControl(),this._curMoveX=this._baseMoveX,this._baseAngle=0,this.rotateAngle=0,this._changedX=0,this._rotateScale=1,this.transform(!0),this.endControl());for(var i="",o=this.startAngle;o<=this.endAngle;o+=this.gapAngle)i+='<li><div class="number">'+o+'</div><div class="bg"></div></li>';this.$lineation.innerHTML=i,this.$lineation.style.width=this.lineationWidth+"px",this.$lineation.style[r]="translateX("+this._curMoveX+"px)",this.rotateSlider?this.$cropRotate.style.visibility="":this.$cropRotate.style.visibility="hidden"},s.prototype.initChilds=function(){this.$cropMask=document.querySelector("#"+this.id+" .crop-mask");var t=window.getComputedStyle(this.$cropMask);this.maskViewSize={width:parseInt(t.getPropertyValue("width")),height:parseInt(t.getPropertyValue("height"))},this.$cropCover=document.querySelector("#"+this.id+" .crop-cover"),this.cropCoverContext=this.$cropCover.getContext("2d"),this.$cropCover.width=this.maskViewSize.width*window.devicePixelRatio,this.$cropCover.height=this.maskViewSize.height*window.devicePixelRatio},s.prototype.updateBox=function(t){this.size=t.size,this.positionOffset=null!=t.positionOffset?t.positionOffset:{top:0,left:0},this.cropSizePercent=null!=t.cropSizePercent?t.cropSizePercent:.5,this.times=this.size.width/this.maskViewSize.width>this.size.height/this.maskViewSize.height?this.size.width/this.maskViewSize.width/this.cropSizePercent:this.size.height/this.maskViewSize.height/this.cropSizePercent,this.cropRect={width:this.size.width/this.times,height:this.size.height/this.times},this.cropRect.left=(this.maskViewSize.width-this.cropRect.width)/2-this.positionOffset.left,this.cropRect.top=(this.maskViewSize.height-this.cropRect.height)/2-this.positionOffset.top,this.cropPoints=this.rectToPoints(this.cropRect),this.cropCenter=this.getPointsCenter(this.cropPoints),this.borderDraw(this.$cropCover),this.coverDraw(this.$cropCover);var e=null!=t.src?t.src:this.src;this.setImage(e)},s.prototype.getControlPoints=function(t){return t.touches?t.touches:[{clientX:t.clientX,clientY:t.clientY}]},s.prototype.getControlEvents=function(){return this.isSupportTouch?{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:{start:"mousedown",move:"mousemove",end:"mouseup",cancel:"mouseleave"}},s.prototype.construct=function(){var t="";t+='<div class="crop-component">',t+='<p class="crop-title">'+this.title+"</p>",t+='<div class="crop-mask">',t+='<canvas class="crop-cover"></canvas>',t+="</div>",this.rotateSlider?t+='<div class="crop-rotate">':t+='<div class="crop-rotate" style="visibility:hidden;">',t+='<ul class="lineation">',t+="</ul>",t+='<div class="current"></div>',t+="</div>",t+='<div class="crop-btns" style="visibility:hidden;"></div>',t+="</div>",this.$target=document.createElement("div"),this.$target.id=this.id,this.$target.classList.add("crop-whole-cover"),this.visible?this.$target.style.visibility="":this.$target.style.visibility="hidden",this.$target.innerHTML=t,this.$container.appendChild(this.$target)},s.prototype.defaultBorderDraw=function(t){var e=this.borderWidth,n=this.boldCornerLen;n=n>=2*e?n:2*e;var i=t.width,r=t.height;this.cropCoverContext.clearRect(0,0,i,r),this.cropCoverContext.fillStyle=this.coverColor,this.cropCoverContext.fillRect(0,0,i,r);var o={left:this.cropRect.left*window.devicePixelRatio,top:this.cropRect.top*window.devicePixelRatio,width:this.cropRect.width*window.devicePixelRatio,height:this.cropRect.height*window.devicePixelRatio};this.cropCoverContext.fillStyle=this.borderColor,this.cropCoverContext.fillRect(o.left,o.top,o.width,o.height),this.boldCornerLen>0&&(this.cropCoverContext.fillRect(o.left-e,o.top-e,n,n),this.cropCoverContext.fillRect(o.left+o.width-n+e,o.top-e,n,n),this.cropCoverContext.fillRect(o.left-e,o.top+o.height-n+e,n,n),this.cropCoverContext.fillRect(o.left+o.width-n+e,o.top+o.height-n+e,n,n)),this.cropCoverContext.clearRect(o.left+e,o.top+e,o.width-2*e,o.height-2*e)},s.prototype.init=function(){var t=this.contentWidth/2,e=this.contentHeight/2;this.initContentPoints=[{x:-t,y:e},{x:t,y:e},{x:t,y:-e},{x:-t,y:-e}],this.contentPoints=this.initContentPoints.slice(),this.size.width/this.size.height>this.contentWidth/this.contentHeight?this.initScale=this.size.width/this.contentWidth:this.initScale=this.size.height/this.contentHeight,this.reset()},s.prototype.reset=function(){this.startControl(),this._contentCurMoveX=-this.positionOffset.left,this._contentCurMoveY=-this.positionOffset.top,this._rotateScale=1,this._baseAngle=0,this.rotateAngle=0,this._curMoveX=this._baseMoveX,this._changedX=0,this.$lineation.style[r]="translateX("+this._baseMoveX+"px)",this.scaleTimes=this.initScale,this.transform(!1,!0),this.endControl()},s.prototype.load=function(){var t=this;t.originImage.onload=function(){e.getData(t.originImage,(function(){t._orientation=e.getTag(this,"Orientation"),t.getRealCotentSize(),t.transformCoordinates(),t.init()}))}},s.prototype.setImage=function(t){if(null!=t&&""!=t){var e=this,n=Object.prototype.toString.call(t);"[object String]"===n?(e.src=t,e.originImage=new Image,e.originImage.crossOrigin="Anonymous",e.originImage.src=e.src,e.load(),e.uploadCallback(e.src)):"[object File]"===n&&e.fileToSrc(t,(function(t){e.src=t,e.originImage=new Image,e.originImage.crossOrigin="Anonymous",e.originImage.src=e.src,e.load(),e.uploadCallback(e.src)}))}},s.prototype.show=function(t){t&&this.setImage(t),this.visible=!0,this.$target.style.visibility=""},s.prototype.hide=function(){this.visible=!1,this.$target.style.visibility="hidden"},s.prototype.close=function(){this.hide(),this.closeCallback()},s.prototype.crop=function(){this.getCropImage(),this.cropCallback(this.$resultCanvas),this.hide()},s.prototype.uploadInput=function(t){var e=t.target.files;e.length>0&&this.show(e[0]),this.$uploadInput.value=""},s.prototype.around=function(){this.startControl(),this.rotateAngle=(this._baseAngle-90)%360,this._baseAngle=this.rotateAngle,this._curMoveX=this._baseMoveX,this._changedX=0,this._rotateScale=1,this.$lineation.style[r]="translateX("+this._baseMoveX+"px)",this.transform(!1,!0),this.endControl()},s.prototype.bindEvent=function(){var t=this,e=this.getControlEvents();t.$cropRotate.addEventListener(e.start,(function(e){var n=t.getControlPoints(e);t.startControl(n)})),t.$cropRotate.addEventListener(e.move,(function(e){var n=t.getControlPoints(e);if(t._downPoints&&t._downPoints.length>0&&!t._multiPoint){var i=n[0].clientX-t._downPoints[0].clientX,o=t._curMoveX+i;if(o<=0&&o>=t.rotateWidth-t.lineationWidth){var s=(o-t._baseMoveX)/t.lineationWidth*(t.endAngle-t.startAngle+t.gapAngle);t._curMoveX=o,t._changedX=i,t.$lineation.style[r]="translateX("+o+"px)",t.rotateAngle=t._baseAngle+s,t.transform(!0),t._downPoints=n}}e.stopPropagation(),e.preventDefault()})),t.$cropRotate.addEventListener(e.end,t.endControl.bind(t)),t.$cropRotate.addEventListener(e.cancel,t.endControl.bind(t));var n=t.isSupportTouch?t.$container:t.$cropMask;n.addEventListener(e.start,(function(e){var n=t.getControlPoints(e);if(t.startControl(n),t._multiPoint=!1,t._downPoints&&t._downPoints.length>=2){t._multiPoint=!0;var i={clientX:(t._downPoints[0].clientX+t._downPoints[1].clientX)/2,clientY:(t._downPoints[0].clientY+t._downPoints[1].clientY)/2};t.fingerLen=Math.sqrt(Math.pow(t._downPoints[0].clientX-t._downPoints[1].clientX,2)+Math.pow(t._downPoints[0].clientY-t._downPoints[1].clientY,2)),t.fingerScale=1,t.fingerCenter={x:i.clientX-t.maskViewSize.width/2,y:t.maskViewSize.height/2-i.clientY}}}));var i=!!t.passiveSupported&&{passive:!1,capture:!1};n.addEventListener(e.move,(function(e){var n=t.getControlPoints(e);if(t._downPoints&&t._downPoints.length>0)if(t._multiPoint){var i=Math.sqrt(Math.pow(n[0].clientX-n[1].clientX,2)+Math.pow(n[0].clientY-n[1].clientY,2))/t.fingerLen;t.scaleTimes=t.scaleTimes/t.fingerScale*i;var r=t.getFingerScaleTranslate(i/t.fingerScale);t._contentCurMoveX-=r.translateX,t._contentCurMoveY+=r.translateY,t.fingerScale=i,t.transform(!1,!0)}else t.contentMove(n);t.visible&&e.preventDefault()}),i),n.addEventListener(e.end,t.endControl.bind(t)),n.addEventListener(e.cancel,t.endControl.bind(t)),n.addEventListener("wheel",(function(e){t._wheelTimeout||t.startControl(),e.preventDefault(),e.wheelDelta>0?t.scaleTimes=t.scaleTimes*(e.wheelDelta/12e3+1):t.scaleTimes=t.scaleTimes/(1-e.wheelDelta/12e3),t.transform(!1,!0),t._wheelTimeout&&clearTimeout(t._wheelTimeout),t._wheelTimeout=setTimeout((function(){t.endControl(),t._wheelTimeout=null}),100)}))},s.prototype.getFingerScaleTranslate=function(t){for(var e=[],n=this.getPointsCenter(this.contentPoints),i=0;i<this.contentPoints.length;i++){var r=this.contentPoints[i];e.push({x:r.x*t-this.fingerCenter.x*(t-1),y:r.y*t-this.fingerCenter.y*(t-1)})}var o=this.getPointsCenter(e);return{translateX:n.x-o.x,translateY:n.y-o.y}},s.prototype.getRealCotentSize=function(){this.contentWidth=this.originImage.width,this.contentHeight=this.originImage.height,this._orientation>4&&(this.contentWidth=this.originImage.height,this.contentHeight=this.originImage.width)},s.prototype.transformCoordinates=function(){this.$cropContent&&this.$cropMask.removeChild(this.$cropContent),this.$cropContent=document.createElement("canvas"),this.$cropContent.width=this.contentWidth,this.$cropContent.height=this.contentHeight;var t=this.$cropContent.getContext("2d"),e=this.originImage.width,n=this.originImage.height;switch(this._orientation){case 2:t.translate(e,0),t.scale(-1,1);break;case 3:t.translate(e,n),t.rotate(Math.PI);break;case 4:t.translate(0,n),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-n);break;case 7:t.rotate(.5*Math.PI),t.translate(e,-n),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-e,0)}t.drawImage(this.originImage,0,0,e,n),this._initTransform="translate3d(-50%,-50%,0)",this.$cropContent.classList.add("crop-content"),this.$cropContent.style.position="absolute",this.$cropContent.style.left="50%",this.$cropContent.style.top="50%",this.$cropContent.style[r]=this._initTransform,this.$cropMask.insertBefore(this.$cropContent,this.$cropCover)},s.prototype.getCropImage=function(){var t=this.scaleTimes/this.times*this._rotateScale,e=this.contentWidth,n=this.contentHeight,i=this.size.width,r=this.size.height,o=1;(e<i||n<r)&&(i/e>r/n?(n*=o=i/e,e=i):(e*=o=r/n,n=r));var s={x:e/2,y:n/2},a=document.createElement("canvas");a.width=e,a.height=n;var c=a.getContext("2d");c.translate(s.x,s.y),c.scale(t*this.times/o,t*this.times/o),c.translate((this._contentCurMoveX+this.positionOffset.left)/t*o,(this._contentCurMoveY+this.positionOffset.top)/t*o),c.rotate(this.rotateAngle/180*Math.PI),c.translate(-s.x,-s.y),c.drawImage(this.$cropContent,0,0,e,n);var l=document.createElement("canvas");l.width=i,l.height=r,l.getContext("2d").drawImage(a,(e-i)/2,(n-r)/2,i,r,0,0,i,r),this.$resultCanvas=l},s.prototype.endControl=function(){if(this._isControl){var t=this;if(this._downPoints=[],this.$cropContent&&!this.isWholeCover(this.contentPoints,this.cropPoints)){var e=this.scaleTimes/this.times*this._rotateScale,n="";n+=" scale("+e+")",n+=" translateX("+this._contentCurMoveX/e+"px) translateY("+this._contentCurMoveY/e+"px)",n+=" rotate("+this.rotateAngle+"deg) ";var s=this.getCoverTransform(n),a=this.getTransformMatrix(s);if(this._contentCurMoveX=a.e,this._contentCurMoveY=a.f,this.contentPoints=this.getTransformPoints("scaleY(-1)"+s,this.initContentPoints),this.debug){this.$cropContent.style[o]="transform .5s linear";var c=s.indexOf(n)+n.length,l=s.substring(c,s.length).trim().split(" "),h=0,u=this._initTransform+n+l[h];this.$cropContent.style[r]=u,this.$cropContent.addEventListener(i,(function(){++h<s.length&&(u+=l[h],t.$cropContent.style[r]=u)}))}else this.$cropContent.style[r]=this._initTransform+s}this._isControl=!1}},s.prototype.startControl=function(t){t=t||[],this._isControl&&!this.isTwoFingerEvent(t)||(this._isControl=!0,this.$cropContent&&(this.$cropContent.style[o]="none"),this._downPoints=t)},s.prototype.isTwoFingerEvent=function(t){return!!(this._isControl&&this._downPoints&&1==this._downPoints.length&&t.length>=2&&(t[0].clientX==this._downPoints[0].clientX&&t[0].clientY==this._downPoints[0].clientY||t[1].clientX==this._downPoints[0].clientX&&t[1].clientY==this._downPoints[0].clientY))},s.prototype.contentMove=function(t){var e=t[0],n=e.clientX-this._downPoints[0].clientX,i=e.clientY-this._downPoints[0].clientY;this._contentCurMoveX+=n,this._contentCurMoveY+=i,this._downPoints=t,this.transform()},s.prototype.transform=function(t,e){if(this.$cropContent){var n=this.scaleTimes/this.times*this._rotateScale,i="";if(i+=" scale("+n+")",i+=" translateX("+this._contentCurMoveX/n+"px) translateY("+this._contentCurMoveY/n+"px)",i+=" rotate("+this.rotateAngle+"deg)",e){i=this.getCoverTransform(i,!0);var o=this.getTransformMatrix(i);this._contentCurMoveX=o.e,this._contentCurMoveY=o.f}if(t){var s=this.getTransformPoints("scaleY(-1)"+i,this.initContentPoints),a=this.getCoverRectScale(s,this.cropPoints),c=this._changedX,l=this._curMoveX-c-this._baseMoveX,h=this.getPointsCenter(s),u={x:h.x-this.cropCenter.x,y:h.y-this.cropCenter.y},p=Math.abs(c)/Math.abs(l);a>1?(this._rotateScale=this._rotateScale*a,n*=a):this.vecLen(u)<1&&p>0&&(a<1-p&&(a=1-p),this._rotateScale*a>1?this._rotateScale=this._rotateScale*a:(this._rotateScale=1,a=1),n*=a)}i="",i+=" scale("+n+")",i+=" translateX("+this._contentCurMoveX/n+"px) translateY("+this._contentCurMoveY/n+"px)",i+=" rotate("+this.rotateAngle+"deg)",this.$cropContent.style[r]=this._initTransform+i,this.contentPoints=this.getTransformPoints("scaleY(-1)"+i,this.initContentPoints)}},s.prototype.getCoverRectScale=function(t,e){for(var n=0,i=0;i<e.length;i++){var r=this.getCoverPointScale(e[i],t);r>n&&(n=r)}return n},s.prototype.isWholeCover=function(t,e){for(var n=0;n<e.length;n++)if(!this.isPointInRectCheckByLen(e[n],t))return!1;return!0},s.prototype.getCoverPointScale=function(t,e){var n=this.getPCVectorProjOnUpAndRight(t,e),i=this.vecLen(n.uproj),r=this.vecLen(n.up)/2,o=this.vecLen(n.rproj),s=this.vecLen(n.right)/2;return i/r>o/s?1+(i-r)/r:1+(o-s)/s},s.prototype.getCoverTransform=function(t,e){var n=this.getCoveRect(this.cropPoints,this.rotateAngle);e=e||!1;var i=1,r=1,o={x:this.contentPoints[1].x-this.contentPoints[2].x,y:this.contentPoints[1].y-this.contentPoints[2].y},s={x:this.contentPoints[1].x-this.contentPoints[0].x,y:this.contentPoints[1].y-this.contentPoints[0].y},a={x:n[1].x-n[2].x,y:n[1].y-n[2].y},c={x:n[1].x-n[0].x,y:n[1].y-n[0].y},l=this.vecAngle(o,a);Math.abs(180-l)<Math.abs(90-l)||Math.abs(0-l)<Math.abs(90-l)?(i=this.vecLen(a)/this.vecLen(o),r=this.vecLen(c)/this.vecLen(s)):(i=this.vecLen(a)/this.vecLen(s),r=this.vecLen(c)/this.vecLen(o));var h=(i=i<1?1:i)>(r=r<1?1:r)?i:r;if(e&&h>1)return t;for(var u=[],p=0;p<this.contentPoints.length;p++)u.push({x:this.contentPoints[p].x,y:this.contentPoints[p].y});h>1&&(t+=" scale("+h+")",this.scaleTimes=this.scaleTimes*h,u=this.getTransformPoints("scaleY(-1)"+t,this.initContentPoints));var f=this.scaleTimes/this.times*this._rotateScale,d=0,g=this,v=[];do{if((v=this.getOutDetails(this.cropPoints,u)).length>0){d++,v.sort((function(t,e){var n=g.vecLen(t.iv),i=g.vecLen(e.iv);return n<i?1:n>i?-1:0}));var m=v[0],y=m.pcv;l=this.vecAngle(y.up,y.uproj);var C=this.vecLen(y.uproj),x=0;0!=(x=Math.abs(l)<90?-C*m.uOver:C*m.uOver)&&(t+=" translateY("+x/f+"px)");var b=this.vecAngle(y.right,y.rproj),w=this.vecLen(y.rproj),P=0;if(0!=(P=Math.abs(b)<90?w*m.rOver:-w*m.rOver)&&(t+=" translateX("+P/f+"px)"),0!=P||0!=x)for(p=0;p<u.length;p++)u[p].x=u[p].x+m.iv.x,u[p].y=u[p].y+m.iv.y}}while(d<2&&v.length>0);return t},s.prototype.getOutDetails=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!this.isPointInRectCheckByLen(r,e)){var o=this.getPCVectorProjOnUpAndRight(r,e),s={x:0,y:0},a=this.vecLen(o.uproj),c=this.vecLen(o.up)/2,l=this.vecLen(o.rproj),h=this.vecLen(o.right)/2,u=0,p=0;a>c&&(u=(a-c)/a,s.x+=o.uproj.x*u,s.y+=o.uproj.y*u),l>h&&(p=(l-h)/l,s.x+=o.rproj.x*p,s.y+=o.rproj.y*p),n.push({x:r.x,y:r.y,iv:s,uOver:u,rOver:p,pcv:o})}}return n},s.prototype.getCoveRect=function(t,e){e<0?e=90+e%90:e%=90;var n=e/180*Math.PI,i={x:t[1].x-t[2].x,y:t[1].y-t[2].y},r={x:t[1].x-t[0].x,y:t[1].y-t[0].y},o=this.vecLen(r),s=this.vecLen(i),a=[];return a[0]={},a[0].x=t[0].x+o*Math.sin(n)*Math.sin(n),a[0].y=t[0].y+o*Math.sin(n)*Math.cos(n),a[1]={},a[1].x=t[1].x+s*Math.sin(n)*Math.cos(n),a[1].y=t[1].y-s*Math.sin(n)*Math.sin(n),a[2]={},a[2].x=t[2].x-o*Math.sin(n)*Math.sin(n),a[2].y=t[2].y-o*Math.sin(n)*Math.cos(n),a[3]={},a[3].x=t[3].x-s*Math.sin(n)*Math.cos(n),a[3].y=t[3].y+s*Math.sin(n)*Math.sin(n),a},s.prototype.getTransformPoints=function(t,e){for(var i=this.getTransformMatrix(t),r=[],o=0;o<e.length;o++){var s={x:e[o].x,y:e[o].y};s=n.applyToPoint(i,s),r.push(s)}return r.reverse(),r},s.prototype.getPointsCenter=function(t){return{x:(t[0].x+t[2].x)/2,y:(t[0].y+t[2].y)/2}},s.prototype.rectToPoints=function(t){var e=[];return e.push({x:-(this.maskViewSize.width/2-t.left),y:this.maskViewSize.height/2-t.top}),e.push({x:e[0].x+t.width,y:e[0].y}),e.push({x:e[1].x,y:e[1].y-t.height}),e.push({x:e[0].x,y:e[2].y}),e},s.prototype.getTransformMatrix=function(t){for(var e=t.split(" "),i=[],r=0;r<e.length;r++)if(""!=e[r].trim()){var o,s=this.getTransformFunctionName(e[r]);o="rotate"!=s.name?n[s.name](s.params[0],s.params[1]):n[s.name](s.params[0]),i.push(o)}return n.compose(i)},s.prototype.getTransformFunctionName=function(t){for(var e=t.indexOf("("),n=t.indexOf(")"),i={},r=t.substring(e+1,n).split(","),o=[],s=0;s<r.length;s++)o.push(parseFloat(r[s]));i.params=o;var a=t.substring(0,e).toLowerCase(),c=0;return-1!=a.indexOf("scale")?(i.name="scale",c=1):-1!=a.indexOf("translate")?i.name="translate":-1!=a.indexOf("skew")?i.name="skewDEG":-1!=a.indexOf("rotate")&&(i.name="rotateDEG"),-1!=a.indexOf("x")?i.params.push(c):-1!=a.indexOf("y")?i.params.unshift(c):-1==a.indexOf("rotate")&&i.params.length<=1&&i.params.push(i.params[0]),i},s.prototype.getProjectionVector=function(t,e){var n=this.vecLen(e),i=t.x*e.x+t.y*e.y;return{x:i/Math.pow(n,2)*e.x,y:i/Math.pow(n,2)*e.y}},s.prototype.getPCVectorProjOnUpAndRight=function(t,e){var n={x:e[1].x-e[2].x,y:e[1].y-e[2].y},i={x:e[1].x-e[0].x,y:e[1].y-e[0].y},r=this.getPointsCenter(e),o={x:t.x-r.x,y:t.y-r.y};return{up:n,uproj:this.getProjectionVector(o,n),right:i,rproj:this.getProjectionVector(o,i)}},s.prototype.isPointInRectCheckByLen=function(t,e){var n=this.getPCVectorProjOnUpAndRight(t,e),i=Math.round(100*this.vecLen(n.uproj)),r=Math.round(this.vecLen(n.up)/2*100),o=Math.round(100*this.vecLen(n.rproj)),s=Math.round(this.vecLen(n.right)/2*100);return i<=r&&o<=s},s.prototype.isPointInRectCheckByAngle=function(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push({x:r.x-t.x,y:r.y-t.y})}var o=0,s=0;for(i=0;i<n.length;i++){var a=this.vecLen(n[i]);(0==a||a<s)&&(o=i,s=a)}a=n.length;var c,l=n.splice(o,1)[0],h=l,u=[];for(i=1;i<a;i++){var p=this.getMinAngle(h,n);h=p.vec,n.splice(p.index,1),u.push(p.angle),1==n.length&&(c=n[0])}u.push(this.getMinAngle(c,[l]).angle);var f=0;for(i=0;i<u.length;i++)f+=u[i];return!((f=f.toPrecision(12))<360)},s.prototype.getMinAngle=function(t,e){for(var n=this.vecAngle(t,e[0]),i=0,r=1;r<e.length;r++){var o=this.vecAngle(t,e[r]);o<n&&(n=o,i=r)}return{angle:n,vec:e[i],index:i}},s.prototype.vecAngle=function(t,e){var n=(t.x*e.x+t.y*e.y)/(this.vecLen(t)*this.vecLen(e));return Math.abs(n)>1&&(n=n>0?1:-1),180*Math.acos(n)/Math.PI},s.prototype.vecLen=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},s.prototype.fileToSrc=function(t,e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)},s})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){var t="undefined"!=typeof document?document.createElement("p").style:{},e=["O","ms","Moz","Webkit"],n=/([A-Z])/g,i={};function r(n){if(n=n.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),void 0!==t[n])return n;for(var i=n.charAt(0).toUpperCase()+n.slice(1),r=e.length;r--;){var o=e[r]+i;if(void 0!==t[o])return o}return n}return{prefix:function(t){return t in i?i[t]:i[t]=r(t)},dash:function(t){return t=r(t),n.test(t)&&(t=t.replace(n,"-$1"),n.lastIndex=0),t.toLowerCase()}}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,i){var r;(function(){var i=function(t){return t instanceof i?t:this instanceof i?void(this.EXIFwrapped=t):new i(t)};t.exports&&(e=t.exports=i),e.EXIF=i;var o=i.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=i.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a=i.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=i.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},l=i.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function h(t){return!!t.exifdata}function u(t,e){function n(n){var r=p(n);t.exifdata=r||{};var o=function(t){var e=new DataView(t);0;if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var n=2,i=t.byteLength,r=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};for(;n<i;){if(r(e,n)){var o=e.getUint8(n+7);o%2!=0&&(o+=1),0===o&&(o=4);var s=n+8+o,a=e.getUint16(n+6+o);return d(t,s,a)}n++}}(n);if(t.iptcdata=o||{},i.isXmpEnabled){var s=function(t){if(!("DOMParser"in self))return;var e=new DataView(t);0;if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var n=2,i=t.byteLength,r=new DOMParser;for(;n<i-4;){if("http"==m(e,n,4)){var o=n-1,s=e.getUint16(n-2)-1,a=m(e,o,s),c=a.indexOf("xmpmeta>")+8,l=(a=a.substring(a.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;return a=a.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+a.slice(l),x(r.parseFromString(a,"text/xml"))}n++}}(n);t.xmpdata=s||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),s=0;s<i;s++)o[s]=n.charCodeAt(s);return r}(t.src));else if(/^blob\:/i.test(t.src)){(o=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},n.send()}(t.src,(function(t){o.readAsArrayBuffer(t)}))}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",t.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var o;(o=new FileReader).onload=function(t){n(t.target.result)},o.readAsArrayBuffer(t)}}function p(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,i=t.byteLength;n<i;){if(255!=e.getUint8(n))return!1;if(225==e.getUint8(n+1))return y(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function d(t,e,n){for(var i,r,o,s,a=new DataView(t),c={},l=e;l<e+n;)28===a.getUint8(l)&&2===a.getUint8(l+1)&&(s=a.getUint8(l+2))in f&&((o=a.getInt16(l+3))+5,r=f[s],i=m(a,l+5,o),c.hasOwnProperty(r)?c[r]instanceof Array?c[r].push(i):c[r]=[c[r],i]:c[r]=i),l++;return c}function g(t,e,n,i,r){var o,s,a=t.getUint16(n,!r),c={};for(s=0;s<a;s++)o=n+12*s+2,c[i[t.getUint16(o,!r)]]=v(t,o,e,n,r);return c}function v(t,e,n,i,r){var o,s,a,c,l,h,u=t.getUint16(e+2,!r),p=t.getUint32(e+4,!r),f=t.getUint32(e+8,!r)+n;switch(u){case 1:case 7:if(1==p)return t.getUint8(e+8,!r);for(o=p>4?f:e+8,s=[],c=0;c<p;c++)s[c]=t.getUint8(o+c);return s;case 2:return m(t,o=p>4?f:e+8,p-1);case 3:if(1==p)return t.getUint16(e+8,!r);for(o=p>2?f:e+8,s=[],c=0;c<p;c++)s[c]=t.getUint16(o+2*c,!r);return s;case 4:if(1==p)return t.getUint32(e+8,!r);for(s=[],c=0;c<p;c++)s[c]=t.getUint32(f+4*c,!r);return s;case 5:if(1==p)return l=t.getUint32(f,!r),h=t.getUint32(f+4,!r),(a=new Number(l/h)).numerator=l,a.denominator=h,a;for(s=[],c=0;c<p;c++)l=t.getUint32(f+8*c,!r),h=t.getUint32(f+4+8*c,!r),s[c]=new Number(l/h),s[c].numerator=l,s[c].denominator=h;return s;case 9:if(1==p)return t.getInt32(e+8,!r);for(s=[],c=0;c<p;c++)s[c]=t.getInt32(f+4*c,!r);return s;case 10:if(1==p)return t.getInt32(f,!r)/t.getInt32(f+4,!r);for(s=[],c=0;c<p;c++)s[c]=t.getInt32(f+8*c,!r)/t.getInt32(f+4+8*c,!r);return s}}function m(t,e,i){var r="";for(n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r}function y(t,e){if("Exif"!=m(t,e,4))return!1;var n,i,r,h,u,p=e+6;if(18761==t.getUint16(p))n=!1;else{if(19789!=t.getUint16(p))return!1;n=!0}if(42!=t.getUint16(p+2,!n))return!1;var f=t.getUint32(p+4,!n);if(f<8)return!1;if((i=g(t,p,p+f,s,n)).ExifIFDPointer)for(r in h=g(t,p,p+i.ExifIFDPointer,o,n)){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":h[r]=l[r][h[r]];break;case"ExifVersion":case"FlashpixVersion":h[r]=String.fromCharCode(h[r][0],h[r][1],h[r][2],h[r][3]);break;case"ComponentsConfiguration":h[r]=l.Components[h[r][0]]+l.Components[h[r][1]]+l.Components[h[r][2]]+l.Components[h[r][3]]}i[r]=h[r]}if(i.GPSInfoIFDPointer)for(r in u=g(t,p,p+i.GPSInfoIFDPointer,a,n)){switch(r){case"GPSVersionID":u[r]=u[r][0]+"."+u[r][1]+"."+u[r][2]+"."+u[r][3]}i[r]=u[r]}return i.thumbnail=function(t,e,n,i){var r=function(t,e,n){var i=t.getUint16(e,!n);return t.getUint32(e+2+12*i,!n)}(t,e+n,i);if(!r)return{};if(r>t.byteLength)return{};var o=g(t,e,e+r,c,i);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var s=e+o.JpegIFOffset,a=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(t.buffer,s,a)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,p,f,n),i}function C(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);e["@attributes"][i.nodeName]=i.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes.item(r),s=o.nodeName;if(null==e[s])e[s]=C(o);else{if(null==e[s].push){var a=e[s];e[s]=[],e[s].push(a)}e[s].push(C(o))}}return e}function x(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var i=t.children.item(n),r=i.attributes;for(var o in r){var s=r[o],a=s.nodeName,c=s.nodeValue;void 0!==a&&(e[a]=c)}var l=i.nodeName;if(void 0===e[l])e[l]=C(i);else{if(void 0===e[l].push){var h=e[l];e[l]=[],e[l].push(h)}e[l].push(C(i))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}i.enableXmp=function(){i.isXmpEnabled=!0},i.disableXmp=function(){i.isXmpEnabled=!1},i.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(h(t)?e&&e.call(t):u(t,e),!0)},i.getTag=function(t,e){if(h(t))return t.exifdata[e]},i.getIptcTag=function(t,e){if(h(t))return t.iptcdata[e]},i.getAllTags=function(t){if(!h(t))return{};var e,n=t.exifdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},i.getAllIptcTags=function(t){if(!h(t))return{};var e,n=t.iptcdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},i.pretty=function(t){if(!h(t))return"";var e,n=t.exifdata,i="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?i+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":i+=e+" : ["+n[e].length+" values]\r\n":i+=e+" : "+n[e]+"\r\n");return i},i.readFromBinaryFile=function(t){return p(t)},void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}).call(this)},function(t,e,n){"use strict";function i(t,e){return Array.isArray(e)?[t.a*e[0]+t.c*e[1]+t.e,t.b*e[0]+t.d*e[1]+t.f]:{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}}function r(t,e){return e.map(e=>i(t,e))}function o(t){return{a:parseFloat(t.a),b:parseFloat(t.b),c:parseFloat(t.c),d:parseFloat(t.d),e:parseFloat(t.e),f:parseFloat(t.f)}}n.r(e),n.d(e,"applyToPoint",(function(){return i})),n.d(e,"applyToPoints",(function(){return r})),n.d(e,"fromObject",(function(){return o})),n.d(e,"fromString",(function(){return a})),n.d(e,"identity",(function(){return c})),n.d(e,"inverse",(function(){return l})),n.d(e,"isAffineMatrix",(function(){return p})),n.d(e,"rotate",(function(){return C})),n.d(e,"rotateDEG",(function(){return x})),n.d(e,"scale",(function(){return b})),n.d(e,"shear",(function(){return w})),n.d(e,"skew",(function(){return S})),n.d(e,"skewDEG",(function(){return M})),n.d(e,"toCSS",(function(){return A})),n.d(e,"toSVG",(function(){return _})),n.d(e,"toString",(function(){return I})),n.d(e,"transform",(function(){return d})),n.d(e,"compose",(function(){return g})),n.d(e,"translate",(function(){return f})),n.d(e,"fromTriangles",(function(){return R})),n.d(e,"smoothMatrix",(function(){return T})),n.d(e,"fromDefinition",(function(){return $})),n.d(e,"fromTransformAttribute",(function(){return D}));const s=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function a(t){const e=t.match(s);if(null===e||e.length<7)throw new Error(`'${t}' is not a matrix`);return{a:parseFloat(e[1]),b:parseFloat(e[2]),c:parseFloat(e[3]),d:parseFloat(e[4]),e:parseFloat(e[5]),f:parseFloat(e[6])}}function c(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function l(t){const{a:e,b:n,c:i,d:r,e:o,f:s}=t,a=e*r-n*i;return{a:r/a,b:n/-a,c:i/-a,d:e/a,e:(r*o-i*s)/-a,f:(n*o-e*s)/a}}function h(t){return void 0===t}function u(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}function p(t){return"object"==typeof(e=t)&&null!==e&&!Array.isArray(e)&&"a"in t&&u(t.a)&&"b"in t&&u(t.b)&&"c"in t&&u(t.c)&&"d"in t&&u(t.d)&&"e"in t&&u(t.e)&&"f"in t&&u(t.f);var e}function f(t,e=0){return{a:1,c:0,e:t,b:0,d:1,f:e}}function d(...t){const e=(t,e)=>({a:t.a*e.a+t.c*e.b,c:t.a*e.c+t.c*e.d,e:t.a*e.e+t.c*e.f+t.e,b:t.b*e.a+t.d*e.b,d:t.b*e.c+t.d*e.d,f:t.b*e.e+t.d*e.f+t.f});switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return e(t[0],t[1]);default:{const[n,i,...r]=t;return d(e(n,i),...r)}}}function g(...t){return d(...t)}const{cos:v,sin:m,PI:y}=Math;function C(t,e,n){const i=v(t),r=m(t),o={a:i,c:-r,e:0,b:r,d:i,f:0};return h(e)||h(n)?o:d([f(e,n),o,f(-e,-n)])}function x(t,e,n){return C(t*y/180,e,n)}function b(t,e,n,i){h(e)&&(e=t);const r={a:t,c:0,e:0,b:0,d:e,f:0};return h(n)||h(i)?r:d([f(n,i),r,f(-n,-i)])}function w(t,e){return{a:1,c:t,e:0,b:e,d:1,f:0}}const{tan:P}=Math;function S(t,e){return{a:1,c:P(t),e:0,b:P(e),d:1,f:0}}function M(t,e){return S(t*Math.PI/180,e*Math.PI/180)}function A(t){return I(t)}function _(t){return I(t)}function I(t){return`matrix(${t.a},${t.b},${t.c},${t.d},${t.e},${t.f})`}function T(t,e=1e10){return{a:Math.round(t.a*e)/e,b:Math.round(t.b*e)/e,c:Math.round(t.c*e)/e,d:Math.round(t.d*e)/e,e:Math.round(t.e*e)/e,f:Math.round(t.f*e)/e}}function R(t,e){const n=null!=t[0].x?t[0].x:t[0][0],i=null!=t[0].y?t[0].y:t[0][1],r=null!=e[0].x?e[0].x:e[0][0],o=null!=e[0].y?e[0].y:e[0][1],s=null!=t[1].x?t[1].x:t[1][0],a=null!=t[1].y?t[1].y:t[1][1],c=null!=e[1].x?e[1].x:e[1][0],h=null!=e[1].y?e[1].y:e[1][1],u=null!=t[2].x?t[2].x:t[2][0],p=null!=t[2].y?t[2].y:t[2][1],f=null!=e[2].x?e[2].x:e[2][0],g=null!=e[2].y?e[2].y:e[2][1];return T(d([{a:r-f,b:o-g,c:c-f,d:h-g,e:f,f:g},l({a:n-u,b:i-p,c:s-u,d:a-p,e:u,f:p})]))}function $(t){return Array.isArray(t)?t.map(e):e(t);function e(t){switch(t.type){case"matrix":if("a"in t&&"b"in t&&"c"in t&&"d"in t&&"e"in t&&"f"in t)return o(t);throw new Error("MISSING_MANDATORY_PARAM");case"translate":if(!("tx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"ty"in t?f(t.tx,t.ty):f(t.tx);case"scale":if(!("sx"in t))throw new Error("MISSING_MANDATORY_PARAM");return"sy"in t?b(t.sx,t.sy):b(t.sx);case"rotate":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return"cx"in t&&"cy"in t?x(t.angle,t.cx,t.cy):x(t.angle);case"skewX":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return M(t.angle,0);case"skewY":if(!("angle"in t))throw new Error("MISSING_MANDATORY_PARAM");return M(0,t.angle);case"shear":if(!("shx"in t)||!("shy"in t))throw new Error("MISSING_MANDATORY_PARAM");return w(t.shx,t.shy);default:throw new Error("UNSUPPORTED_DESCRIPTOR")}}}function F(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,F)}function L(t,e){e=void 0!==e?e:{};var n,i={},r={transformList:X},o=X,s=/^[eE]/,a=/^[+\-]/,c=/^[0-9]/,l=/^[ \t\r\n]/,h=I("matrix",!1),u=I("(",!1),p=I(")",!1),f=I("translate",!1),d=I("scale",!1),g=I("rotate",!1),v=I("skewX",!1),m=I("skewY",!1),y=I(",",!1),C=R("fractionalConstant"),x=T(["e","E"],!1,!1),b=T(["+","-"],!1,!1),w=T([["0","9"]],!1,!1),P=T([" ","\t","\r","\n"],!1,!1),S=0,M=[{line:1,column:1}],A=[],_=0;if("startRule"in e){if(!(e.startRule in r))throw new Error("Can't start parsing from rule \""+e.startRule+'".');o=r[e.startRule]}function I(t,e){return{type:"literal",text:t,ignoreCase:e}}function T(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function R(t){return{type:"other",description:t}}function $(e){var n,i=M[e];if(i)return i;for(n=e-1;!M[n];)n--;for(i={line:(i=M[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return M[e]=i,i}var L="string"==typeof e.filename&&e.filename.length>0;function D(t,n){var i={};L&&(i.filename=e.filename);var r=$(t);i.start={offset:t,line:r.line,column:r.column};var o=$(n);return i.end={offset:n,line:o.line,column:o.column},i}function E(t){var e=A[A.length-1];S<e.pos||(S>e.pos&&(e.pos=S,e.variants=[]),e.variants.push(t))}function k(t,e,n){return new F(F.buildMessage(t,e,n),t,e,n)}function X(){var t,e,n,r,o;for(t=S,e=[],n=z();n!==i;)e.push(n),n=z();for((n=function t(){var e,n,r,o;if(e=S,(n=O())!==i){if(r=[],(o=j())!==i)for(;o!==i;)r.push(o),o=j();else r=i;r!==i&&(o=t())!==i?(e,s=o,e=n.concat(s)):(S=e,e=i)}else S=e,e=i;var s;e===i&&(e=O());return e}())===i&&(n=null),r=[],o=z();o!==i;)r.push(o),o=z();return t,t=n}function O(){var e;return(e=function(){var e,n,r,o,s,a,c,l,f,d,g,v,m,y=function(t){0===_&&E(t)};e=S,y(h),"matrix"===t.substr(S,6)?(n="matrix",S+=6):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(y(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i)if(j()!==i)if((c=B())!==i)if(j()!==i)if((l=B())!==i)if(j()!==i)if((f=B())!==i)if(j()!==i)if((d=B())!==i)if(j()!==i)if((g=B())!==i){for(v=[],m=z();m!==i;)v.push(m),m=z();y(p),41===t.charCodeAt(S)?(m=")",S++):m=i,m!==i?(e,e=[{type:"matrix",a:a,b:c,c:l,d:f,e:d,f:g}]):(S=e,e=i)}else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i;else S=e,e=i}else S=e,e=i}else S=e,e=i;return e}())===i&&(e=function(){var e,n,r,o,s,a,c,l,h,d=function(t){0===_&&E(t)};e=S,d(f),"translate"===t.substr(S,9)?(n="translate",S+=9):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(d(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i){for((c=U())===i&&(c=null),l=[],h=z();h!==i;)l.push(h),h=z();d(p),41===t.charCodeAt(S)?(h=")",S++):h=i,h!==i?(e,v={type:"translate",tx:a},(g=c)&&(v.ty=g),e=[v]):(S=e,e=i)}else S=e,e=i}else S=e,e=i}else S=e,e=i;var g,v;return e}())===i&&(e=function(){var e,n,r,o,s,a,c,l,h,f=function(t){0===_&&E(t)};e=S,f(d),"scale"===t.substr(S,5)?(n="scale",S+=5):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(f(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i){for((c=U())===i&&(c=null),l=[],h=z();h!==i;)l.push(h),h=z();f(p),41===t.charCodeAt(S)?(h=")",S++):h=i,h!==i?(e,v={type:"scale",sx:a},(g=c)&&(v.sy=g),e=[v]):(S=e,e=i)}else S=e,e=i}else S=e,e=i}else S=e,e=i;var g,v;return e}())===i&&(e=function(){var e,n,r,o,s,a,c,l,h,f=function(t){0===_&&E(t)};e=S,f(g),"rotate"===t.substr(S,6)?(n="rotate",S+=6):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(f(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i){for((c=function(){var t,e,n;t=S,j()!==i&&(e=B())!==i&&j()!==i&&(n=B())!==i?(t,t=[e,n]):(S=t,t=i);return t}())===i&&(c=null),l=[],h=z();h!==i;)l.push(h),h=z();f(p),41===t.charCodeAt(S)?(h=")",S++):h=i,h!==i?(e,v={type:"rotate",angle:a},(d=c)&&(v.cx=d[0],v.cy=d[1]),e=[v]):(S=e,e=i)}else S=e,e=i}else S=e,e=i}else S=e,e=i;var d,v;return e}())===i&&(e=function(){var e,n,r,o,s,a,c,l,h=function(t){0===_&&E(t)};e=S,h(v),"skewX"===t.substr(S,5)?(n="skewX",S+=5):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(h(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i){for(c=[],l=z();l!==i;)c.push(l),l=z();h(p),41===t.charCodeAt(S)?(l=")",S++):l=i,l!==i?(e,e=[{type:"skewX",angle:a}]):(S=e,e=i)}else S=e,e=i}else S=e,e=i}else S=e,e=i;return e}())===i&&(e=function(){var e,n,r,o,s,a,c,l,h=function(t){0===_&&E(t)};e=S,h(m),"skewY"===t.substr(S,5)?(n="skewY",S+=5):n=i;if(n!==i){for(r=[],o=z();o!==i;)r.push(o),o=z();if(h(u),40===t.charCodeAt(S)?(o="(",S++):o=i,o!==i){for(s=[],a=z();a!==i;)s.push(a),a=z();if((a=B())!==i){for(c=[],l=z();l!==i;)c.push(l),l=z();h(p),41===t.charCodeAt(S)?(l=")",S++):l=i,l!==i?(e,e=[{type:"skewY",angle:a}]):(S=e,e=i)}else S=e,e=i}else S=e,e=i}else S=e,e=i;return e}()),e}function B(){var e,n,r,o;return e=S,n=S,(r=N())===i&&(r=null),(o=function(){var e,n,r;e=S,(n=function(){var e,n,r,o;(function(t){0===_&&E(t)})(C),_++,e=S,(n=W())===i&&(n=null);46===t.charCodeAt(S)?(r=".",S++):r=i;r!==i&&(o=W())!==i?(e,a=o,e=[(s=n)?s.join(""):null,".",a.join("")].join("")):(S=e,e=i);var s,a;e===i&&(e=S,(n=W())!==i?(46===t.charCodeAt(S)?(r=".",S++):r=i,r!==i?(e,e=n.join("")):(S=e,e=i)):(S=e,e=i));return _--,e}())!==i?((r=Y())===i&&(r=null),e,e=[n,r||null].join("")):(S=e,e=i);e===i&&(e=S,(n=W())!==i&&(r=Y())!==i?(e,e=function(t,e){return[t,e].join("")}(n,r)):(S=e,e=i));return e}())!==i?n=r=[r,o]:(S=n,n=i),n!==i&&(e,n=parseFloat(n.join(""))),(e=n)===i&&(e=S,n=S,(r=N())===i&&(r=null),(o=function(){var t,e;t=S,(e=W())!==i&&(t,e=e.join(""));return t=e}())!==i?n=r=[r,o]:(S=n,n=i),n!==i&&(e,n=parseInt(n.join(""))),e=n),e}function U(){var t,e;return t=S,j()!==i&&(e=B())!==i?(t,t=e):(S=t,t=i),t}function j(){var t,e,n,r,o;if(t=S,e=[],(n=z())!==i)for(;n!==i;)e.push(n),n=z();else e=i;if(e!==i){for((n=G())===i&&(n=null),r=[],o=z();o!==i;)r.push(o),o=z();t=e=[e,n,r]}else S=t,t=i;if(t===i)if(t=S,(e=G())!==i){for(n=[],r=z();r!==i;)n.push(r),r=z();t=e=[e,n]}else S=t,t=i;return t}function G(){var e;return function(t){0===_&&E(t)}(y),44===t.charCodeAt(S)?(e=",",S++):e=i,e}function Y(){var e,n,r,o;return e=S,function(t){0===_&&E(t)}(x),s.test(t.charAt(S))?(n=t.charAt(S),S++):n=i,n!==i?((r=N())===i&&(r=null),(o=W())!==i?(e,e=["e",r,o.join("")].join("")):(S=e,e=i)):(S=e,e=i),e}function N(){var e;return function(t){0===_&&E(t)}(b),a.test(t.charAt(S))?(e=t.charAt(S),S++):e=i,e}function W(){var t,e;if(t=[],(e=V())!==i)for(;e!==i;)t.push(e),e=V();else t=i;return t}function V(){var e;return function(t){0===_&&E(t)}(w),c.test(t.charAt(S))?(e=t.charAt(S),S++):e=i,e}function z(){var e;return function(t){0===_&&E(t)}(P),l.test(t.charAt(S))?(e=t.charAt(S),S++):e=i,e}if(A.push({pos:S,variants:[]}),(n=o())!==i&&S===t.length)return n;throw n!==i&&S<t.length&&E({type:"end"}),function(){var e=A[0],n=e.pos;return k(e.variants,n<t.length?t.charAt(n):null,n<t.length?D(n,n+1):D(n,n))}()}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(F,Error),F.buildMessage=function(t,e,n){var i={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?s(t[0])+"-"+s(t[1]):s(t)}));return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description},not:function(t){return"not "+a(t.expected)}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function a(t){return i[t.type](t)}return"Expected "+function(t){var e,n,i=t.map(a);if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};function D(t){return L(t)}}])}));
//# sourceMappingURL=index.min.js.map